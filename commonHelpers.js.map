{"version":3,"file":"commonHelpers.js","sources":["../src/js/mobileMenu.js","../src/js/swiper.js","../src/js/formHandler.js","../src/js/headerHeight.js","../src/js/numberAnimation.js","../src/js/scrollToTop.js","../src/js/writeTitle.js","../src/js/video.js","../src/js/cta-animation.js","../src/main.js"],"sourcesContent":["const mobileMenuRefs = {\n  mobileMenu: document.querySelector('.js-mobile-menu'),\n  openMenuBtn: document.querySelector('.js-open-menu'),\n  closeMenuBtn: document.querySelector('.js-close-menu'),\n  backdrop: document.querySelector('.js-backdrop-menu'),\n};\n\nconst toggleMenu = () => {\n  const isMenuOpen =\n    mobileMenuRefs.openMenuBtn.getAttribute('aria-expanded') === 'true' ||\n    false;\n\n  mobileMenuRefs.mobileMenu.classList.toggle('is-open');\n  mobileMenuRefs.mobileMenu.setAttribute('aria-hidden', isMenuOpen);\n  mobileMenuRefs.openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n\n  mobileMenuRefs.backdrop.classList.toggle('is-visible');\n\n  if (!isMenuOpen) {\n    document.body.style.overflow = 'hidden';\n  } else {\n    document.body.style.overflow = '';\n  }\n};\n\nmobileMenuRefs.openMenuBtn.addEventListener('click', toggleMenu);\nmobileMenuRefs.closeMenuBtn.addEventListener('click', toggleMenu);\nmobileMenuRefs.backdrop.addEventListener('click', toggleMenu);\n\nconst navLinks = document.querySelectorAll('.nav-menu-item a');\nfunction setActiveLink(val) {\n  navLinks.forEach(link => {\n    link.classList.remove('active');\n  });\n\n  const activeLink = Array.from(navLinks).find(\n    link => link.getAttribute('href') === val\n  );\n\n  if (activeLink) {\n    activeLink.classList.add('active');\n  }\n}\n\nconst handleIntersection = (entries, observer) => {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      setActiveLink(`#${entry.target.id}`);\n    }\n  });\n};\n\nconst options = {\n  root: null,\n  rootMargin: '0px',\n  threshold: 0.5,\n};\n\nconst observer = new IntersectionObserver(handleIntersection, options);\nconst sections = document.querySelectorAll('section');\n\nconst deleteSectionsObserver = () =>\n  sections.forEach(section => {\n    observer.unobserve(section);\n  });\n\nconst addSectionsObserver = () =>\n  sections.forEach(section => {\n    observer.observe(section);\n  });\n\naddSectionsObserver();\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  window.addEventListener('hashchange', () => {\n    deleteSectionsObserver();\n    setActiveLink(window.location.hash);\n    setTimeout(() => {\n      addSectionsObserver();\n    }, 750);\n  });\n  setActiveLink(window.location.hash);\n});\n","import Swiper from 'swiper';\nimport { Autoplay } from 'swiper/modules';\nimport 'swiper/css';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  new Swiper('.swiper', {\n    modules: [Autoplay],\n    loop: true,\n    spaceBetween: 32,\n    slidesPerView: 1,\n    grabCursor: true,\n    autoplay: {\n      delay: 3000,\n      disableOnInteraction: false,\n      pauseOnMouseEnter: true,\n    },\n    breakpoints: {\n      320: {\n        slidesPerView: 1,\n      },\n      768: {\n        slidesPerView: 2,\n      },\n      1280: {\n        slidesPerView: 3,\n      },\n    },\n  });\n});\n","const form = document.querySelector('.contact-form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const formData = new FormData(form);\n  const data = Object.fromEntries(formData);\n  console.log(data);\n  const notification = document.querySelector('.notification');\n  const notificationTitle = document.querySelector('.notification-title');\n  const notificationMain = document.querySelector('.notification-main');\n\n  notification.classList.remove('hidden');\n  const title = `Dear ${data['user-name']}!`;\n  const content = `We are happy that you chose <strong>${data.teacher}</strong> at English Excellence. We will inform you via your email <strong>${data['user-email']}</strong> or your phone <strong>${data['user-phone']}</strong>. Your comment: <strong>\"${data['user-comment']}\"</strong> has been received.`;\n\n  notificationTitle.textContent = title;\n  notificationMain.innerHTML = content;\n  notification.classList.add('animate-notification');\n  setTimeout(() => {\n    notification.classList.add('hidden');\n    notification.classList.remove('animate-notification');\n  }, 5000);\n\n  form.reset();\n});\n","document.addEventListener('DOMContentLoaded', () => {\n  const header = document.querySelector('.header');\n  const headerHeight = header.offsetHeight;\n\n  document.documentElement.style.setProperty(\n    '--header-height',\n    `${headerHeight}px`\n  );\n});\n","function animateNumber(element, start, end, duration) {\n  let startTimestamp = null;\n  const step = timestamp => {\n    if (!startTimestamp) startTimestamp = timestamp;\n    const progress = Math.min((timestamp - startTimestamp) / duration, 1);\n    element.textContent = Math.floor(progress * (end - start) + start);\n    if (progress < 1) {\n      window.requestAnimationFrame(step);\n    }\n  };\n  window.requestAnimationFrame(step);\n}\n\nfunction setupNumberAnimation(targetSelector) {\n  const target = document.querySelector(targetSelector);\n  if (!target) return;\n\n  const observer = new IntersectionObserver(\n    (entries, observer) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          animateNumber(target, 500, parseInt(target.textContent, 10), 1000);\n          observer.disconnect();\n        }\n      });\n    },\n    { threshold: 0.1 }\n  );\n\n  observer.observe(target);\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  setupNumberAnimation('.contact-promo-title');\n});\n","document.addEventListener('scroll', function () {\n  const anchor = document.querySelector('.hero-link-circle');\n  if (window.scrollY === 0) {\n    anchor.style.transform = 'rotate(0deg)';\n    anchor.href = '#footer-section';\n  } else {\n    anchor.style.transform = 'rotate(180deg)';\n    anchor.href = '#hero-section';\n  }\n});\n","document.addEventListener('DOMContentLoaded', function () {\n  function stepAnimateText(element, animation, delay) {\n    const el = document.querySelector(element);\n    const nodes = Array.from(el.childNodes);\n    el.innerHTML = '';\n    let totalDelay = 0;\n\n    const animateNode = (node, parent) => {\n      if (node.nodeType === Node.TEXT_NODE) {\n        const txt = node.textContent.replace(/\\s+/g, ' ');\n        for (let i = 0; i < txt.length; i++) {\n          const character = txt.charAt(i);\n          const span = document.createElement('span');\n          span.className = animation;\n          span.style.animationDelay = `${totalDelay}s`;\n          span.textContent = character;\n          parent.appendChild(span);\n          totalDelay += delay;\n        }\n      } else if (node.nodeType === Node.ELEMENT_NODE) {\n        const clonedNode = node.cloneNode();\n        parent.appendChild(clonedNode);\n        Array.from(node.childNodes).forEach(innerNode =>\n          animateNode(innerNode, clonedNode)\n        );\n      }\n    };\n\n    nodes.forEach(node => animateNode(node, el));\n  }\n\n  stepAnimateText('.hero-title', 'customAppearing', 0.05);\n});\n","function playOrPause() {\n  if (!this.paused && !this.ended) {\n    this.pause();\n  } else {\n    this.play();\n  }\n}\nfunction loadVideo() {\n  const videos = document.querySelectorAll('.teachers-video');\n  videos.forEach(video => {\n    video.addEventListener('click', playOrPause, video);\n  });\n  const removeCircleAnimation = e => {\n    e.target.parentElement\n      .querySelector('.circle')\n      .classList.add('visually-hidden');\n    e.target.removeEventListener('click', removeCircleAnimation);\n  };\n  videos.forEach(video => {\n    video.addEventListener('play', removeCircleAnimation);\n  });\n}\nwindow.addEventListener('load', loadVideo, false);\n","let options = {\n  threshold: 0.4,\n};\nconst callback = (entries, observer) => {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      entry.target.classList.add('start');\n    } else {\n      entry.target.classList.remove('start');\n    }\n  });\n};\nlet observer = new IntersectionObserver(callback, options);\nconst ctaContainer = document.querySelector('.usp-wrapper');\n\nif (ctaContainer) {\n  observer.observe(ctaContainer);\n}\n","import '/js/mobileMenu.js';\nimport '/js/swiper.js';\nimport '/js/formHandler.js';\nimport './js/headerHeight.js';\nimport './js/numberAnimation.js';\nimport './js/scrollToTop.js';\nimport './js/writeTitle.js';\nimport './js/video.js';\nimport AOS from 'aos';\nimport './js/cta-animation.js';\n// import 'aos/dist/aos.css';\n\nAOS.init();\n"],"names":["mobileMenuRefs","toggleMenu","isMenuOpen","navLinks","setActiveLink","val","link","activeLink","handleIntersection","entries","observer","entry","options","sections","deleteSectionsObserver","section","addSectionsObserver","Swiper","Autoplay","form","e","formData","data","notification","notificationTitle","notificationMain","title","content","headerHeight","animateNumber","element","start","end","duration","startTimestamp","step","timestamp","progress","setupNumberAnimation","targetSelector","target","anchor","stepAnimateText","animation","delay","el","nodes","totalDelay","animateNode","node","parent","txt","i","character","span","clonedNode","innerNode","playOrPause","loadVideo","videos","video","removeCircleAnimation","callback","ctaContainer","AOS"],"mappings":"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"}